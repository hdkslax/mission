## 1. 1 C语言简介

C语言仅有32个关键字，9种控制语句，34种运算符：

![2016-05-31_173134](img/clip_image002.jpg)

![2016-05-31_173306](img/clip_image002-1621702156200.jpg)

![2016-05-31_173424](img/clip_image002-1621702165937.jpg)









## 1.2 C程序组成部分

```c
#include <stdio.h> // std是一个标准库 i=input o=output 标准输入输出库 .h 头文件

//单行注释
    /*
        多
        行
        注
        释
    */


// int 数据类型 整型 如果出现在函数中，表示函数的返回值
// main 程序的主函数 程序有且只有一个主函数 ()里面表示函数的参数
// 函数的参数可以是有很多个 用逗号隔开
// {} 函数体 代码体 程序体

int main(int argc, char const *argv[])
{
    // printf 是stdio.h中提供的函数 表示在标准输出设备上打印字符串
    // "" 字符串
    // ；一条语句的结束   
    // \n 转义字符 表示换行
    printf("hello world\n");
    
    // return 表示程序的结束
    // 0 表示程序的返回值 要和程序的返回类型相同
    return 0;
}
```

##### 1) include头文件包含

-  #include的意思是头文件包含，#include <stdio.h>代表包含stdio.h这个头文件
- 使用C语言库函数需要提前包含库函数对应的头文件，如这里使用了printf()函数，需要包含stdio.h头文件
- 可以通过man 3 printf查看printf所需的头文件

######  #include< > 与 #include ""的区别：

- < > 表示系统直接按系统指定的目录检索
- "" 表示系统先在 "" 指定的路径(没写路径代表当前路径)查找头文件，如果找不到，再按系统指定的目录检索

 

stdio.h是在操作系统的系统目录下：

![2016-05-31_231146](img/clip_image002-1621705129585.jpg)

 



##### 2) main函数

- 一个完整的C语言程序，是由一个、且只能有一个main()函数(又称主函数，必须有)和若干个其他函数结合而成（可选）。
- main函数是C语言程序的入口，程序是从main函数开始执行。

 

##### 3) {} 括号，程序体和代码块

- {}叫代码块，一个代码块内部可以有一条或者多条语句
- C语言每句可执行代码都是"**;**"分号结尾
- 所有的#开头的行，都代表预编译指令，预编译指令行结尾是没有分号的
- 所有的可执行语句必须是在代码块里面

 

##### 4) 注释

- //叫行注释，注释的内容编译器是忽略的，注释主要的作用是在代码中加一些说明和解释，这样有利于代码的阅读
- /**/叫块注释
- 块注释是C语言标准的注释方法
- 行注释是从C++语言借鉴过来的

 

##### 5) printf函数

- printf是C语言库函数，功能是向标准输出设备输出一个字符串
- printf(“hello world\n”); //\n的意思是回车换行

 

##### 6) return语句

- return代表函数执行完毕，返回return代表函数的终止

- 如果main定义的时候前面是int，那么return后面就需要写一个整数；如果main定义的时候前面是void，那么return后面什么也不需要写
- 在main函数中return 0代表程序执行成功，return -1代表程序执行失败
- int main()和void main()在C语言中是一样的，但C++只接受int main这种定义方式



## 1.3 编译

- 命令、选项和源文件之间使用空格分隔
- 一行命令中可以有零个、一个或多个选项
- 文件名可以包含文件的绝对路径，也可以使用相对路径
- 如果命令中不包含输出可执行文件的文件名，可执行文件的文件名会自动生成一个默认名，Linux平台为a.out，Windows平台为a.exe

```shell
gcc [-option1] ... <filename>
g++ [-option1] ... <filename>
```

##### gcc、g++编译常用选项

```bash
-o file		 指定生成的输出文件名为file
-E main.c -o main.i		只进行预处理
-S(大写)	   只进行预处理和编译
-c(小写)	   只进行预处理、编译和汇编
```





## 1.4 system 函数

```c
#include <stdlib.h>
int system(const char *command);
功能：在已经运行的程序中执行另外一个外部程序
参数：外部可执行程序名字
返回值：
	成功：0
	失败：任意数字
```

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
	//system("calc"); //windows平台
	system("ls"); //Linux平台, 需要头文件#include <stdlib.h>

	return 0;
}
```

注意：

- 如果程序带路径，需要使用`\\` 或 `/`







## 1.5 编译步骤

##### 一步编译（还是经过：预处理、编译、汇编、链接的过程）

```shell
gcc test.c -o test
```



##### C代码编译成可执行程序经过4步：

1）**预处理**：宏定义展开、头文件展开、条件编译等，同时将代码中的注释删除，这里*并不会检查语法*

```shell
gcc -E test.c -o test.i
```

2）**编译**：*检查语法*，将预处理后文件编译生成汇编文件

```shell
gcc -S test.i -o test.s
```

3）**汇编**：将汇编文件生成目标文件(二进制文件)

```shell
gcc -c test.s -o test.o
```

4）**链接**：C语言写的程序是需要依赖各种库的，所以编译之后还需要把库链接到最终的可执行程序中去

```shell
gcc test.o -o test
```



 ![图片5](img/clip_image002.png)

##### 常见代码问题：

1. 编辑时异常 - 编辑器会下划红线提示
2. 编译时异常 - 链接库时才找到
3. 运行时异常 - 代码没报错，但运行时得不到想要的结果







## 1.6 程序运行过程

![image-20210522113631108](img/image-20210522113631108.png)

