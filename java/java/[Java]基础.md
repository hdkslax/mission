[TOC]

# Java基础

## Java注释

### 单行注释

```java
// 这是一个单行注释
```



### 多行注释

```java
/*
	这是一个多行注释
*/ 
```



### 文档注释 （Java特有）

```java
/**
	@author 指定java程序的作者
	@version 指定源文件的版本
*/
```

注释内容可以被JDK提供的工具`javadoc`所解析，生成一套以网页文件形式体现的该程序的说明文档。

命令：

```java
> javadoc -d 文件夹名 -author -version 文件名.java
```



## Java main() 方法

```java
class TheClassName {
    public static void main(String[] args){ 
        
    }
}
```

### 参数

`args` - arguemnts参数

`String[] args` == `String args[]` 

### 类

在一个java源文件中，可以声明多个class，但最多只有一个类是`public`。

而且要求声明为`public`的类的类名必须与源文件名相同。

类名前的`public`可省。

```java
// TheClassName.java
public class TheClassName { 
    public static void main(String[] args){ 
        
    }
}
class Person{
    
}
```



## 标识符 Identifier

### 标识符：

- Java对各种变量、方法和类等要素命名时使用的字符序列称为标识符
- 技巧：凡是自己可以起名字的地方都叫标识符

### 定义合法标识符规则（必须遵守） 

- 由26个英文字母大小写， 0-9 ， _或 $ 组成  
- 数字不可以开头。  
- 不可以使用关键字和保留字，但能包含关键字和保留字。  
- Java中严格区分大小写，长度无限制。  
- 标识符不能包含空格。  

### Java中的名称命名规范  （不遵守也可以，但显得不专业）

- **包名**：多单词组成时所有字母都小写： xxxyyyzzz  
- **类名、接口名**：多单词组成时，所有单词的首字母大写： XxxYyyZzz  
- **变量名、方法名**：多单词组成时，第一个单词首字母小写，第二个单词开始每个单词首字母大写： xxxYyyZzz  
- **常量名**：所有字母都大写。多单词时每个单词用下划线连接： XXX_YYY_ZZZ  

注意1：在起名字时，为了提高阅读性，要尽量有意义，“见名知意”。  

注意2： java采用unicode字符集，因此标识符也可以使用汉字声明，但是不建议使用。  



## 变 量  

- 变量的概念：  
  - 内存中的一个存储区域  
  - 该区域的数据可以在同一类型范围内不断变化  
  - 变量是程序中最基本的存储单元。包含变量类型、变量名和存储的值  
- 变量的作用：  用于在内存中保存数据  
- 使用变量注意：  
  - Java中每个变量必须先声明，后使用  
  - 使用变量名来访问这块区域的数据  
  - 变量的作用域：其定义所在的一对{ }内  
  - 变量只有在其作用域内才有效  
  - 同一个作用域内，不能定义重名的变量  

- 声明变量  
  - 语法： <数据类型> <变量名称>  
  - 例如： int var;  
- 变量的赋值  
  - 语法： <变量名称> = <值>  
  - 例如： var = 10;  
- 声明和赋值变量  
  - 语法： <数据类型> <变量名> = <初始化值>  
  - 例如： int var = 10;  

### 变量的分类-按数据类型  

对于每一种数据都定义了明确的具体数据类型（强类型语言），在内存中分
配了不同大小的内存空间。  

![image-20210319001425464](img\基础1.png)

### 变量的分类-按声明的位置的不同  

- 在方法体外，类体内声明的变量称为成员变量。  
- 在方法体内部声明的变量称为局部变量。  

![image-20210319005918601](img\基础2.png)

注意：二者在初始化值方面的异同:  

- 同： 都有生命周期   
- 异： 局部变量除形参外，需显式初始化  

### 整数类型： byte、 short、 int、 long  

- Java各整数类型有固定的表数范围和字段长度，不受具体OS的影响，以保
  证java程序的可移植性。  
- java的整型常量默认为 int 型，声明long型常量须后加‘l’或‘L’  
- java程序中变量通常声明为int型，除非不足以表示较大的数，才使用long  

| 类 型 | 占用存储空间 | 表数范围              |
| ----- | ------------ | --------------------- |
| byte  | 1字节=8bit位 | -128 ~ 127            |
| short | 2字节        | -215 ~215-1           |
| int   | 4字节        | -231 ~ 231-1 (约21亿) |
| long  | 8字节        | -263 ~ 263-1          |

**bit**: 计算机中的最小存储单位。 **byte**:计算机中基本存储单元。  

### 浮点类型： float、 double  

- 与整数类型类似， Java 浮点类型也有固定的表数范围和字段长度，不受具体操作
  系统的影响。  
- 浮点型常量有两种表示形式：  
  - 十进制数形式：如： 5.12 512.0f .512 (必须有小数点）  
  - 科学计数法形式:如： 5.12e2 512E2 100E-2  
- float:单精度，尾数可以精确到7位有效数字。很多情况下，精度很难满足需求。
  double:双精度，精度是float的两倍。通常采用此类型。  
- Java 的浮点型常量默认为double型， 声明float型常量，须后加‘f’或‘F’。  

| 类 型        | 占用存储空间 | 表数范围               |
| ------------ | ------------ | ---------------------- |
| 单精度float  | 4字节        | -3.403E38 ~ 3.403E38   |
| 双精度double | 8字节        | -1.798E308 ~ 1.798E308 |

### 字符类型： char  

- char 型数据用来表示通常意义上“字符”(2字节)  
- Java中的所有字符都使用Unicode编码，故一个字符可以存储一个字母，一个汉字，或其他书面语的一个字符。  
- 字符型变量的三种表现形式：  
  - 字符常量是用单引号(‘ ’)括起来的单个字符。 例如： char c1 = 'a'; char c2= '中'; char c3 = '9';  
  - Java中还允许使用转义字符‘\’来将其后的字符转变为特殊字符型常量。
    例如： char c3 = ‘\n’; // '\n'表示换行符  
  - 直接使用 Unicode 值来表示字符型常量：‘\uXXXX’。其中， XXXX代表一个十六进制整数。如： \u000a 表示 \n。  
- char类型是可以进行运算的。因为它都对应有Unicode码。  

### 布尔类型： boolean  

- boolean类型数据只允许取值true和false，无null 。
  - 不可以使用0或非 0 的整数替代false和true，这点和C语言不同。  
  - Java虚拟机中没有任何供boolean值专用的字节码指令， Java语言表达所操作的boolean值，在编译之后都使用java虚拟机中的int数据类型来代替： true用1表示， false用0表示。 ———《java虚拟机规范 8版》  

### 基本数据类型转换  

- 自动类型转换：容量小的类型自动转换为容量大的数据类型。数据类型按容量大小排序为： 

  ![image-20210319013256723](F:\000\workspace\java\java\img\基础3.png)

- 有多种类型的数据混合运算时，系统首先自动将所有数据转换成容量最大的那种数据类型，然后再进行计算。  

- 此时容量大小指的是，表示数的范围的大小，我不是占用内存空间的大小。比如：flaot容量要大于long的容量，但long占用8byte，float占用4byte。

- byte,short,char之间不会相互转换，他们三者在计算时首先转换为int类型。  

- boolean类型不能与其它数据类型运算。  

- 当把任何基本数据类型的值和字符串(String)进行连接运算时(+)， 基本数据类型的值将自动转化为字符串(String)类型。  

### 字符串类型： String  

- String不是基本数据类型，属于引用数据类型  

- 声明String类型变量时，使用一对“”

- String可以和8种基本数据类型变量做运算，且运算只能是连接运算：`+`

- 使用方式与基本数据类型一致。例如： String str = “abcd”;  

- 一个字符串可以串接另一个字符串，也可以直接串接其他类型的数据。结果是String。 

  ```java
  String str1 = 123; // 编译不通过
  String str2 = 123 + ""; // “123”
  int num1 = str2; // 报错
  int num1 = (int)str2; // 123
  int num2 = parseInt(str2);
  ```

### 强制类型转换  

- 自动类型转换的逆过程， 将容量大的数据类型转换为容量小的数据类型。 使用时要加上强制转换符： ()， 但可能造成精度降低或溢出,格外要注意。  
- 通常， 字符串不能直接转换为基本类型， 但通过基本类型对应的包装类则可以实现把字符串转换成基本类型。  
  - 如： String a = “43”; int i = Integer.parseInt(a);  
- boolean类型不可以转换为其它的数据类型。  

### 进制  

##### 关于进制  

- 所有数字在计算机底层都以二进制形式存在。  
- 对于整数，有四种表示方式：  
  - 二进制(binary)： 0,1 ，满2进1.以0b或0B开头。  
  - 十进制(decimal)： 0-9 ，满10进1。  
  - 八进制(octal)： 0-7 ，满8进1. 以数字0开头表示。  
  - 十六进制(hex)： 0-9及A-F，满16进1. 以0x或0X开头表示。此处的A-F不区分大小写。  
    - 如： 0x21AF +1= 0X21B0  

##### 为什么要使用原码、反码、补码表示形式呢？  

计算机辨别“符号位”显然会让计算机的基础电路设计变得十分复杂! 于是人们想出了将符号位也参与运算的方法. 我们知道, 根据运算法则减去一个正数等于加上一个负数, 即: 1-1 = 1 + (-1) = 0 , 所以机器可以只有加法而没有减法, 这样计算机运算的设计就更简单了。  

对于正数来讲：原码、反码、补码是相同的：三码合一。
计算机底层都是使用二进制表示的数值
计算机底层都是使用的数值的补码保存数据的。  



##### 补码

原码 -> 补码：

- 除符号位外，各个位取反，得到反码
- 补码 = 反码 + 1



### 运算符  

##### 算术运算符的注意问题  

- 如果对负数取模，可以把模数负号忽略不记，如： 5%-2=1。 但被模数是负数则不可忽略。此外，取模运算的结果不一定总是整数。  
- 对于除号“/”，它的整数除和小数除是有区别的：整数之间做除法时，只保留整数部分而舍弃小数部分。 例如： int x=3510;x=x/1000*1000; x的结果是？  
- “+”除字符串相加功能外，还能把非字符串转换成字符串.例如：System.out.println(“5+5=”+5+5); //打印结果是？ 5+5=55 ?  

##### 位运算

| <<   | 空位补0，被移除的高位丢弃，空缺位补0。                       |
| ---- | ------------------------------------------------------------ |
| >>   | 被移位的二进制最高位是0，右移后，空缺位补0； 最高位是1，空缺位补1。 |
| >>>  | 被移位二进制最高位无论是0或者是1，空缺位都用0补。            |
| &    | 二进制位进行&运算，只有1&1时结果是1，否则是0;                |
| \|   | 二进制位进行 \| 运算，只有0 \| 0时结果是0，否则是1;          |
| ^    | 相同二进制位进行 ^ 运算，结果是0； 1^1=0 , 0^0=0 不相同二进制位 ^ 运算结果是1。 1^0=1 , 0^1=1 |
| ~    | 正数取反，各二进制码按补码各位取反 负数取反，各二进制码按补码各位取反 |

##### 注意点：

```java
short s1 = 10;
s1 = s1 + 1; // 编译不通过，此时发生了数据类型转换，将s1转换为int之后才+1，导致结果为int
s1 = (short)(s1+1); // 11
s1++; // 11
```

##### 连续赋值

```java
int i,j;
i=j=10;
```

##### 赋值符号不改变数据类型的情况

```java
short s1 = 10;
s1 += 2; // 不变
s1 = s1 + 2; // 变int
```

##### & 和 && 区别

相同点：运算结果相同；当符号左边为`true`时，二者都会执行符号右边的运算。

不同点：当符号左边是`false`时，&继续执行符号右边的运算，而&&不再执行符号右边的运算。

| 和 || 也一样。



### 循环

不在循环条件部分限制次数的结构

```java
while(true) == for(;;)
```

外层循环控制行数，内层循环控制列数

```java
for (int i=1; i<6; i++){
     for (int j=1; j<=i; j++){
         System.out.print('*');
     }
    System.out.println();
}

/*
输出：
*
**
***
****
*****

*/
```

### break & continue

这两个关键词后面不能声明执行语句。

###### 结束指定标识的一层循环结构

```java
label:for(int i=1; i<=4; i++){
	for (int j=1; j<=10; j++){
        if(j % 4 == 0)
            break label;
    }
    System.out.print(j);
}
```



### Java中计算程序运行时间

```java
long start = system.currentTimeMillis();
...
long enf = system.currentTimeMillis();
```



### 